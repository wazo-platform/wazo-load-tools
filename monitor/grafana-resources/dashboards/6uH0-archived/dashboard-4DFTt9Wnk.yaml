apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: 6uH0-archived
    name: 4DFTt9Wnk
spec:
    annotations:
        list:
            - builtIn: 1
              datasource:
                type: datasource
                uid: grafana
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              target:
                limit: 100
                matchAny: false
                tags: []
                type: dashboard
              type: dashboard
    description: Grafana Dashboard for Nginx Web Server.
    editable: true
    fiscalYearStartMonth: 0
    gnetId: 14900
    graphTooltip: 0
    links: []
    liveNow: false
    panels:
        - collapsed: false
          datasource:
            type: prometheus
            uid: ${DS_PROMETHEUS}
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 0
          id: 37
          panels: []
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              refId: A
          title: General Metrics
          type: row
        - aliasColors:
            172.31.0.131:9273: dark-green
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 10
          fillGradient: 0
          gridPos:
            h: 7
            w: 14
            x: 0
            "y": 1
          hiddenSeries: false
          id: 18
          legend:
            alignAsTable: true
            avg: false
            current: true
            max: true
            min: true
            show: true
            total: false
            values: true
          lines: true
          linewidth: 1
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: 100 - (cpu_usage_idle{instance=~ "$instance*",cpu="cpu-total"})
              interval: ""
              legendFormat: '{{instance}}'
              refId: A
          thresholds: []
          timeRegions: []
          title: CPU Usage
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:661
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:662
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            uid: ${DS_PROMETHEUS}
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: semi-dark-orange
                          value: null
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 7
            w: 5
            x: 14
            "y": 1
          id: 20
          options:
            orientation: auto
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            showThresholdLabels: false
            showThresholdMarkers: true
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: 100 - (cpu_usage_idle{instance=~ "$instance*",cpu="cpu-total"})
              interval: ""
              legendFormat: '{{instance}}'
              refId: A
          title: Current CPU Utilization %
          type: gauge
        - datasource:
            uid: ${DS_PROMETHEUS}
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: light-red
                          value: 80
                unit: bytes
            overrides: []
          gridPos:
            h: 7
            w: 5
            x: 19
            "y": 1
          id: 16
          options:
            colorMode: value
            graphMode: area
            justifyMode: auto
            orientation: auto
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            textMode: auto
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum(mem_used{instance=~"$instance"})
              interval: ""
              legendFormat: '{{ host }}'
              refId: A
          title: Current Memory Utilization
          type: stat
        - aliasColors:
            mem_used: rgb(214, 141, 89)
            net_bytes_recv: dark-yellow
            net_bytes_sent: semi-dark-red
            net_conn_accepted: light-blue
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          decimals: 2
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 2
          fillGradient: 0
          gridPos:
            h: 8
            w: 12
            x: 0
            "y": 8
          hiddenSeries: false
          id: 26
          legend:
            alignAsTable: true
            avg: true
            current: true
            hideEmpty: false
            hideZero: false
            max: true
            min: false
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 3
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides:
            - $$hashKey: object:491
              alias: net_bytes_recv
            - $$hashKey: object:539
              alias: net_bytes_sent
            - $$hashKey: object:605
              alias: net_conn_accepted
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              expr: rate(net_bytes_recv[5m])
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 3
              legendFormat: net_bytes_recv
              refId: A
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              expr: rate(net_conntrack_listener_conn_accepted_total[5m])
              hide: false
              interval: 30s
              legendFormat: net_conn_accepted
              refId: C
          thresholds: []
          timeRegions: []
          title: Network Input
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:167
              format: percent
              logBase: 1
              show: true
            - $$hashKey: object:168
              format: percent
              logBase: 1
              show: true
          yaxis:
            align: false
        - aliasColors:
            mem_used: rgb(214, 141, 89)
            net_bytes_recv: dark-yellow
            net_bytes_sent: semi-dark-red
            net_conn_accepted: light-blue
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          decimals: 2
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 2
          fillGradient: 0
          gridPos:
            h: 8
            w: 12
            x: 12
            "y": 8
          hiddenSeries: false
          id: 35
          legend:
            alignAsTable: true
            avg: true
            current: true
            hideEmpty: false
            hideZero: false
            max: true
            min: false
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 3
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides:
            - $$hashKey: object:491
              alias: net_bytes_recv
            - $$hashKey: object:539
              alias: net_bytes_sent
            - $$hashKey: object:605
              alias: net_conn_accepted
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              expr: rate(net_bytes_sent[5m])
              interval: 30s
              legendFormat: net_bytes_sent
              refId: B
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              expr: rate(net_conntrack_listener_conn_accepted_total[5m])
              hide: false
              interval: 30s
              legendFormat: net_conn_accepted
              refId: C
          thresholds: []
          timeRegions: []
          title: Network Ouput
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:167
              format: percent
              logBase: 1
              show: true
            - $$hashKey: object:168
              format: percent
              logBase: 1
              show: true
          yaxis:
            align: false
        - collapsed: false
          datasource:
            type: prometheus
            uid: ${DS_PROMETHEUS}
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 16
          id: 24
          panels: []
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              refId: A
          title: Nginx Requests Status Code
          type: row
        - aliasColors:
            172.31.11.8:9273: semi-dark-yellow
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            type: prometheus
            uid: ${DS_PROMETHEUS}
          description: Requests with 200 Status Code
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 1
          fillGradient: 0
          gridPos:
            h: 9
            w: 17
            x: 0
            "y": 17
          hiddenSeries: false
          id: 28
          legend:
            alignAsTable: true
            avg: true
            current: true
            max: true
            min: false
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 2
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              editorMode: code
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"20."}[5m])
              interval: ""
              legendFormat: '{{request}}'
              range: true
              refId: A
          thresholds: []
          timeRegions: []
          title: Response 2XX / 5m
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:91
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:92
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            uid: ${DS_PROMETHEUS}
          description: Total number of request in 24 hours for 200 response by nginx server
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: yellow
                          value: null
            overrides: []
          gridPos:
            h: 9
            w: 7
            x: 17
            "y": 17
          id: 39
          options:
            displayMode: gradient
            minVizHeight: 10
            minVizWidth: 0
            orientation: horizontal
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            showUnfilled: true
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"200"}[24h])
              interval: ""
              legendFormat: '{{request}}'
              refId: A
          title: Total Response 200 Req. [24h]
          type: bargauge
        - aliasColors: {}
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: Requests with 4XX Status Code
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 1
          fillGradient: 0
          gridPos:
            h: 9
            w: 17
            x: 0
            "y": 26
          hiddenSeries: false
          id: 30
          legend:
            alignAsTable: true
            avg: true
            current: true
            max: true
            min: false
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 2
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"40."}[5m])
              interval: ""
              legendFormat: '{{request}}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Response 4XX  /5m
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:167
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:168
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            uid: ${DS_PROMETHEUS}
          description: Total number of request in 24 hours for 404 response from nginx server
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: light-red
                          value: null
            overrides: []
          gridPos:
            h: 9
            w: 7
            x: 17
            "y": 26
          id: 40
          options:
            displayMode: gradient
            minVizHeight: 10
            minVizWidth: 0
            orientation: horizontal
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            showUnfilled: true
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"404"}[5m])
              interval: ""
              legendFormat: '{{request}}'
              refId: A
          title: Total Response 404 Req. [24h]
          type: bargauge
        - aliasColors: {}
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: Requests with 3XX Status Code
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 1
          fillGradient: 0
          gridPos:
            h: 8
            w: 9
            x: 0
            "y": 35
          hiddenSeries: false
          id: 31
          legend:
            alignAsTable: true
            avg: true
            current: true
            max: true
            min: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 1
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"30."}[5m])
              interval: ""
              legendFormat: '{{instance}}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Response 3XX
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:929
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:930
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - aliasColors: {}
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: Requests with 5XX Status Code
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 1
          fillGradient: 0
          gridPos:
            h: 8
            w: 10
            x: 9
            "y": 35
          hiddenSeries: false
          id: 32
          legend:
            alignAsTable: true
            avg: true
            current: true
            max: true
            min: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 1
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"50."}[5m])
              interval: ""
              legendFormat: '{{instance}}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Response 5XX
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:1003
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:1004
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            uid: ${DS_PROMETHEUS}
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
            overrides: []
          gridPos:
            h: 8
            w: 5
            x: 19
            "y": 35
          id: 41
          options:
            colorMode: value
            graphMode: area
            justifyMode: auto
            orientation: horizontal
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            textMode: auto
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: sum_over_time(nginxlog_resp_bytes{instance=~"$instance*", resp_code=~"503"}[5m])
              interval: ""
              legendFormat: '{{request}}'
              refId: A
          title: Total Request 503 Resonse
          type: stat
        - collapsed: false
          datasource:
            type: prometheus
            uid: ${DS_PROMETHEUS}
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 43
          id: 22
          panels: []
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              refId: A
          title: Nginx Metrics
          type: row
        - aliasColors:
            ? '{__name__="nginx_accepts", env="prod", exported_env="DEV", instance="172.31.0.131:9273", job="telegraf", port="80", server="localhost"}'
            : purple
            172.31.0.131:9273: super-light-purple
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: |+
            The total number of accepted connections from clients since the nginx master process started. Note that reloading configurations or restarting worker processes will not reset this metric. If you terminate and restart the master process, you will reset the metric.

          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 3
          fillGradient: 0
          gridPos:
            h: 7
            w: 9
            x: 0
            "y": 44
          hiddenSeries: false
          id: 4
          legend:
            alignAsTable: true
            avg: false
            current: true
            hideEmpty: false
            hideZero: false
            max: true
            min: true
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 3
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: nginx_accepts{instance=~"$instance*"}
              interval: ""
              legendFormat: '{{ instance }}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Nginx Connections Accepted
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:450
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:451
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            uid: ${DS_PROMETHEUS}
          description: |
            The current number of connections from clients where nginx is writing a response back to the client.
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: red
                          value: null
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 7
            w: 4
            x: 9
            "y": 44
          id: 12
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: auto
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            textMode: auto
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: "nginx_writing{instance=~\"$instance*\"}\t"
              interval: ""
              legendFormat: '{{ host }}'
              refId: A
          title: Nginx Writing
          type: stat
        - datasource:
            uid: ${DS_PROMETHEUS}
          description: The current number of active (accepted) connections from clients. Includes all connections with the statuses Idle / Waiting, Reading, and Writing.
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: dark-orange
                          value: null
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 7
            w: 7
            x: 13
            "y": 44
          id: 6
          options:
            displayMode: lcd
            minVizHeight: 10
            minVizWidth: 0
            orientation: horizontal
            reduceOptions:
                calcs:
                    - min
                fields: ""
                values: false
            showUnfilled: true
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: "nginx_active{instance=~\"$instance*\"}\t"
              interval: ""
              legendFormat: '{{instance }}'
              refId: A
          title: Nginx Active Connections[accepted]
          type: bargauge
        - datasource:
            uid: ${DS_PROMETHEUS}
          description: The current number of connections from clients that are in the Idle / Waiting state.
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: semi-dark-blue
                          value: null
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 7
            w: 4
            x: 20
            "y": 44
          id: 10
          options:
            colorMode: value
            graphMode: area
            justifyMode: auto
            orientation: auto
            reduceOptions:
                calcs:
                    - min
                fields: ""
                values: false
            textMode: auto
          pluginVersion: 9.3.6
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: "nginx_waiting{instance=~\"$instance*\"}\t"
              interval: ""
              legendFormat: '{{ instance}}'
              refId: A
          title: Nginx Waiting Connections
          type: stat
        - aliasColors:
            ? '{__name__="nginx_handled", env="prod", exported_env="DEV", instance="172.31.0.131:9273", job="telegraf", port="80", server="localhost"}'
            : rgb(208, 240, 17)
            172.31.0.131:9273: rgb(219, 237, 9)
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: The total number of handled connections from clients since the nginx master process started. This will be lower than accepted only in cases where a connection is dropped before it is handled.
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 3
          fillGradient: 0
          gridPos:
            h: 7
            w: 10
            x: 0
            "y": 51
          hiddenSeries: false
          id: 14
          legend:
            alignAsTable: true
            avg: true
            current: true
            max: true
            min: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 3
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: "nginx_handled{instance=~\"$instance*\"}\t"
              interval: ""
              legendFormat: '{{ instance }}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Handled Request
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:1528
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:1529
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - aliasColors:
            ? '{__name__="nginx_requests", env="prod", exported_env="DEV", instance="172.31.0.131:9273", job="telegraf", port="80", server="localhost"}'
            : orange
            172.31.0.131:9273: rgb(250, 0, 225)
          bars: false
          dashLength: 10
          dashes: false
          datasource:
            uid: ${DS_PROMETHEUS}
          description: The total number of client requests since the nginx master process started. A request is an application-level (HTTP, etc.) event. It occurs when a client requests a resource via the application protocol. A single connection can (and often does) make many requests. So most of the time, there are more requests than accepted/handled connections.
          fieldConfig:
            defaults:
                links: []
            overrides: []
          fill: 3
          fillGradient: 0
          gridPos:
            h: 7
            w: 10
            x: 10
            "y": 51
          hiddenSeries: false
          id: 2
          legend:
            alignAsTable: true
            avg: true
            current: true
            hideEmpty: false
            hideZero: false
            max: false
            min: true
            rightSide: false
            show: true
            total: false
            values: true
          lines: true
          linewidth: 3
          nullPointMode: "null"
          options:
            alertThreshold: true
          percentage: false
          pluginVersion: 9.3.6
          pointradius: 2
          points: false
          renderer: flot
          seriesOverrides: []
          spaceLength: 10
          stack: false
          steppedLine: false
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: "nginx_requests{instance=~\"$instance*\"}\t"
              interval: ""
              legendFormat: '{{ instance }}'
              refId: A
          thresholds: []
          timeRegions: []
          title: Nginx Requests
          tooltip:
            shared: true
            sort: 0
            value_type: individual
          type: graph
          xaxis:
            mode: time
            show: true
            values: []
          yaxes:
            - $$hashKey: object:119
              format: short
              logBase: 1
              show: true
            - $$hashKey: object:120
              format: short
              logBase: 1
              show: true
          yaxis:
            align: false
        - datasource:
            type: prometheus
            uid: ${DS_PROMETHEUS}
          description: The current number of (accepted) connections from clients where nginx is reading the request. Measured at the time the status module was queried.
          fieldConfig:
            defaults:
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: semi-dark-green
                          value: null
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 7
            w: 4
            x: 20
            "y": 51
          id: 8
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: auto
            reduceOptions:
                calcs:
                    - mean
                fields: ""
                values: false
            textMode: auto
          pluginVersion: 9.3.6
          targets:
            - datasource:
                type: prometheus
                uid: ${DS_PROMETHEUS}
              expr: nginx_reading{instance=~"$instance*"}
              interval: ""
              legendFormat: '{{ host }}'
              refId: A
          title: nginx_reading
          type: stat
        - datasource:
            uid: ${DS_PROMETHEUS}
          fieldConfig:
            defaults:
                custom:
                    align: center
                    displayMode: auto
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
            overrides:
                - matcher:
                    id: byName
                    options: Time
                  properties:
                    - id: custom.width
                      value: 144
                - matcher:
                    id: byName
                    options: agent
                  properties:
                    - id: custom.width
                      value: 173
                - matcher:
                    id: byName
                    options: auth
                  properties:
                    - id: custom.width
                      value: 84
                - matcher:
                    id: byName
                    options: client_ip
                  properties:
                    - id: custom.width
                      value: 143
                - matcher:
                    id: byName
                    options: env
                  properties:
                    - id: custom.width
                      value: 20
                - matcher:
                    id: byName
                    options: exported_env
                  properties:
                    - id: custom.width
                      value: 122
                - matcher:
                    id: byName
                    options: ident
                  properties:
                    - id: custom.width
                      value: 74
                - matcher:
                    id: byName
                    options: job
                  properties:
                    - id: custom.width
                      value: 53
                - matcher:
                    id: byName
                    options: path
                  properties:
                    - id: custom.width
                      value: 151
                - matcher:
                    id: byName
                    options: referrer
                  properties:
                    - id: custom.width
                      value: 82
                - matcher:
                    id: byName
                    options: resp_code
                  properties:
                    - id: custom.width
                      value: 94
                - matcher:
                    id: byName
                    options: verb
                  properties:
                    - id: custom.width
                      value: 48
                - matcher:
                    id: byName
                    options: request
                  properties:
                    - id: custom.width
                      value: 208
                - matcher:
                    id: byName
                    options: Value
                  properties:
                    - id: custom.width
                      value: 29
          gridPos:
            h: 16
            w: 24
            x: 0
            "y": 58
          id: 34
          options:
            footer:
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy: []
          pluginVersion: 9.3.6
          repeatDirection: h
          targets:
            - datasource:
                uid: ${DS_PROMETHEUS}
              expr: nginxlog_resp_bytes{instance=~"$instance*"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Each Request Detail
          transformations:
            - id: labelsToFields
              options: {}
            - id: merge
              options: {}
          type: table
    refresh: 10s
    schemaVersion: 37
    style: dark
    tags: []
    templating:
        list:
            - includeAll: false
              label: datasource
              name: DS_PROMETHEUS
              options: []
              query: prometheus
              refresh: 1
              regex: ""
              type: datasource
            - current:
                text: ""
                value: ""
              datasource:
                uid: ${DS_PROMETHEUS}
              definition: label_values(instance)
              hide: 0
              includeAll: false
              label: instance
              multi: true
              name: instance
              options: []
              query:
                query: label_values(instance)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              skipUrlSync: false
              sort: 0
              tagValuesQuery: ""
              tagsQuery: ""
              type: query
              useTags: false
            - auto: true
              auto_count: 30
              auto_min: 10s
              current:
                selected: false
                text: auto
                value: $__auto_interval_inter
              hide: 0
              label: Interval
              name: inter
              options:
                - selected: true
                  text: auto
                  value: $__auto_interval_inter
                - selected: false
                  text: 30s
                  value: 30s
                - selected: false
                  text: 1m
                  value: 1m
                - selected: false
                  text: 2m
                  value: 2m
                - selected: false
                  text: 5m
                  value: 5m
                - selected: false
                  text: 10m
                  value: 10m
                - selected: false
                  text: 30m
                  value: 30m
                - selected: false
                  text: 1h
                  value: 1h
              query: 30s,1m,2m,5m,10m,30m,1h
              queryValue: ""
              refresh: 2
              skipUrlSync: false
              type: interval
    time:
        from: now-5m
        to: now
    timepicker:
        refresh_intervals:
            - 10s
            - 30s
            - 1m
            - 5m
            - 15m
            - 30m
            - 1h
            - 2h
            - 1d
    timezone: ""
    title: Nginx
    uid: 4DFTt9Wnk
    weekStart: ""
