apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: xbE4-voip
    name: aLlK-wazo-asterisk-full
spec:
    annotations:
        list:
            - builtIn: 1
              datasource:
                type: datasource
                uid: grafana
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              target:
                limit: 100
                matchAny: false
                tags: []
                type: dashboard
              type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    links: []
    panels:
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 0
          id: 12
          panels: []
          title: Status
          type: row
        - fieldConfig:
            defaults: {}
            overrides: []
          gridPos:
            h: 4
            w: 4
            x: 0
            "y": 1
          id: 20
          options:
            code:
                language: plaintext
                showLineNumbers: false
                showMiniMap: false
            content: "<img src=\"https://theme.zdassets.com/theme_assets/1871843/c8e815188e147f36375d3f4e52c2fb25558b1dec.png\"\n     alt=\"Wazo Icone\"\n     style=\"float: left; margin: 10px;\" />\n\n \n           "
            mode: markdown
          pluginVersion: 11.6.0
          title: ""
          type: text
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings:
                    - options:
                        "0":
                            color: red
                            index: 0
                            text: Down
                        "1":
                            color: green
                            index: 1
                            text: Up
                      type: value
                thresholds:
                    mode: absolute
                    steps:
                        - color: red
                        - color: green
                          value: 1
            overrides: []
          gridPos:
            h: 4
            w: 5
            x: 5
            "y": 1
          id: 6
          options:
            colorMode: background
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text: {}
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: up{instance="$instance",job="asterisk"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Asterisk Status
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: blue
                unit: dtdhms
            overrides: []
          gridPos:
            h: 4
            w: 4
            x: 11
            "y": 1
          id: 10
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text:
                titleSize: 1
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_core_uptime_seconds{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Asterisk core Uptime
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: blue
                unit: dtdhms
            overrides: []
          gridPos:
            h: 4
            w: 3
            x: 16
            "y": 1
          id: 51
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text:
                titleSize: 1
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_core_last_reload_seconds{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Asterisk core last reload
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: blue
                unit: none
            overrides: []
          gridPos:
            h: 4
            w: 3
            x: 20
            "y": 1
          id: 50
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text:
                titleSize: 1
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_core_scrape_time_ms{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Asterisk core scrape time (ms)
          type: stat
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 5
          id: 8
          panels: []
          title: General Information
          type: row
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: transparent
                    mode: fixed
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 9
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: smooth
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: always
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: asterisk_channels_count{eid="00:50:56:80:0b:88", instance="wazo-prod.di.unistra.fr:5039", job="asterisk"}
                  properties:
                    - id: color
                      value:
                        fixedColor: semi-dark-orange
                        mode: fixed
                    - id: displayName
                      value: Active Channels
                - matcher:
                    id: byName
                    options: asterisk_calls_count{eid="00:50:56:80:0b:88", instance="wazo-prod.di.unistra.fr:5039", job="asterisk"}
                  properties:
                    - id: color
                      value:
                        fixedColor: green
                        mode: fixed
                    - id: custom.barAlignment
                      value: 0
                    - id: custom.drawStyle
                      value: bars
                    - id: custom.fillOpacity
                      value: 100
                    - id: displayName
                      value: Acrive Calls
                - matcher:
                    id: byName
                    options: asterisk_bridges_count{eid="00:50:56:80:0b:88", instance="wazo-prod.di.unistra.fr:5039", job="asterisk"}
                  properties:
                    - id: displayName
                      value: Active Bridges
                    - id: color
                      value:
                        fixedColor: semi-dark-yellow
                        mode: fixed
          gridPos:
            h: 8
            w: 24
            x: 0
            "y": 6
          id: 2
          options:
            legend:
                calcs:
                    - lastNotNull
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_calls_count{instance="$instance"}
              format: time_series
              instant: false
              interval: "300"
              intervalFactor: 1
              legendFormat: ""
              refId: A
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_channels_count{instance="$instance"}
              hide: false
              interval: "300"
              legendFormat: ""
              refId: B
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_bridges_count{instance="$instance"}
              hide: false
              interval: "300"
              legendFormat: ""
              refId: C
          title: Simultaneous Active Calls / Channels / Bridges Historical
          type: timeseries
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings: []
                min: 0
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: '#EAB839'
                          value: 50
                        - color: red
                          value: 100
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 0
            "y": 14
          id: 14
          options:
            minVizHeight: 75
            minVizWidth: 75
            orientation: auto
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showThresholdLabels: false
            showThresholdMarkers: false
            sizing: auto
            text: {}
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_calls_count{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Current Active Calls
          type: gauge
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 3
            "y": 14
          id: 52
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text: {}
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: max_over_time(asterisk_calls_count{instance="$instance"}[1d])
              interval: ""
              legendFormat: ""
              refId: A
          title: Max  Calls over the day
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-orange
                    mode: fixed
                mappings: []
                min: 0
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: '#EAB839'
                          value: 300
                        - color: red
                          value: 600
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 6
            "y": 14
          id: 25
          options:
            minVizHeight: 75
            minVizWidth: 75
            orientation: horizontal
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showThresholdLabels: false
            showThresholdMarkers: false
            sizing: auto
            text: {}
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_channels_count{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Current Active Channels
          type: gauge
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-orange
                    mode: fixed
                mappings: []
                max: 100
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 9
            "y": 14
          id: 26
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text: {}
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: max_over_time(asterisk_channels_count{instance="$instance"}[1d])
              interval: ""
              legendFormat: ""
              refId: A
          title: Max Channels over the day
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-yellow
                    mode: fixed
                mappings: []
                min: 0
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 12
            "y": 14
          id: 27
          options:
            minVizHeight: 75
            minVizWidth: 75
            orientation: horizontal
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showThresholdLabels: false
            showThresholdMarkers: false
            sizing: auto
            text: {}
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_bridges_count{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Current Active Bridges
          type: gauge
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-yellow
                    mode: fixed
                mappings: []
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 15
            "y": 14
          id: 28
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text: {}
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: max_over_time(asterisk_bridges_count{instance="$instance"}[1d])
              interval: ""
              legendFormat: ""
              refId: A
          title: Max Bridges over the day
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: fixed
                mappings: []
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 18
            "y": 14
          id: 46
          options:
            minVizHeight: 75
            minVizWidth: 75
            orientation: horizontal
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showThresholdLabels: false
            showThresholdMarkers: true
            sizing: auto
            text: {}
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: count(asterisk_endpoints_state{instance="$instance"}==2)
              interval: ""
              legendFormat: ""
              refId: A
          title: Current online  Endpoints
          type: gauge
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: fixed
                mappings: []
                max: 100
                min: 0
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 5
            w: 3
            x: 21
            "y": 14
          id: 45
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            text: {}
            textMode: auto
            wideLayout: true
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: max_over_time(count(asterisk_endpoints_state{instance="$instance"}==2)[1d:10m])
              interval: ""
              legendFormat: ""
              refId: A
          title: Max Endpoints over the day
          type: stat
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 19
          id: 38
          panels: []
          title: Endpoints Information
          type: row
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: fixed
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 50
                    gradientMode: hue
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: smooth
                    lineStyle:
                        fill: solid
                    lineWidth: 1
                    pointSize: 4
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 8
            w: 24
            x: 0
            "y": 20
          id: 41
          options:
            legend:
                calcs:
                    - last
                displayMode: list
                placement: bottom
                showLegend: false
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 11.6.0
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: count(asterisk_endpoints_state{instance="$instance"}==2)
              interval: "300"
              legendFormat: ""
              refId: A
          title: Online Endpoints Historical
          type: timeseries
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    mode: fixed
                custom:
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                mappings: []
            overrides:
                - matcher:
                    id: byName
                    options: Endpoint Online
                  properties:
                    - id: color
                      value:
                        fixedColor: dark-blue
                        mode: fixed
                - matcher:
                    id: byName
                    options: Endpoints Offline
                  properties:
                    - id: color
                      value:
                        fixedColor: super-light-blue
                        mode: fixed
          gridPos:
            h: 9
            w: 6
            x: 0
            "y": 28
          id: 43
          options:
            displayLabels:
                - percent
                - name
                - value
            legend:
                displayMode: list
                placement: bottom
                showLegend: true
            pieType: pie
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            tooltip:
                mode: single
          pluginVersion: 8.1.2
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: |
                count(asterisk_endpoints_state{instance="$instance"}==0)
              format: time_series
              interval: ""
              legendFormat: Enpoints Unknown
              refId: A
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: count(asterisk_endpoints_state{instance="$instance"}==1)
              format: time_series
              hide: false
              interval: ""
              legendFormat: Endpoints Offline
              refId: B
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: count(asterisk_endpoints_state{instance="$instance"}==2)
              format: time_series
              hide: false
              interval: ""
              legendFormat: Endpoint Online
              refId: C
          title: Current Endpoints State ( 0=unknown; 1=offline; 2=online)
          transformations:
            - id: organize
              options: {}
          type: piechart
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: fixed
                mappings: []
                max: 100
                min: 0
                noValue: N/A
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 9
            w: 5
            x: 6
            "y": 28
          id: 53
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            text: {}
            textMode: auto
          pluginVersion: 8.1.2
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_endpoints_count{instance="$instance"}
              interval: ""
              legendFormat: ""
              refId: A
          title: Current Defined Endpoints
          type: stat
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: blue
                    mode: fixed
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    filterable: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: job
                  properties:
                    - id: custom.width
                      value: 79
                - matcher:
                    id: byName
                    options: tech
                  properties:
                    - id: custom.width
                      value: 100
                - matcher:
                    id: byName
                    options: resource
                  properties:
                    - id: custom.width
                      value: 94
                - matcher:
                    id: byName
                    options: 'Value #A'
                  properties:
                    - id: custom.width
                      value: 89
                - matcher:
                    id: byName
                    options: eid
                  properties:
                    - id: custom.width
                      value: 188
                - matcher:
                    id: byName
                    options: id
                  properties:
                    - id: custom.width
                      value: 187
                - matcher:
                    id: byName
                    options: instance
                  properties:
                    - id: custom.width
                      value: 253
                - matcher:
                    id: byName
                    options: Time
                  properties:
                    - id: custom.width
                      value: 327
                - matcher:
                    id: byName
                    options: Channels count
                  properties:
                    - id: custom.width
                      value: 200
                - matcher:
                    id: byName
                    options: Channels count (allValues)
                  properties:
                    - id: custom.width
                      value: 426
                - matcher:
                    id: byName
                    options: Channels count (range)
                  properties:
                    - id: custom.width
                      value: 174
                - matcher:
                    id: byName
                    options: TECH
                  properties:
                    - id: custom.width
                      value: 131
                - matcher:
                    id: byName
                    options: Channels count (delta)
                  properties:
                    - id: custom.width
                      value: 181
                - matcher:
                    id: byName
                    options: CHANNELS COUNT (delta)
                  properties:
                    - id: custom.width
                      value: 290
                - matcher:
                    id: byName
                    options: ID
                  properties:
                    - id: custom.width
                      value: 269
                - matcher:
                    id: byName
                    options: RESOURCE
                  properties:
                    - id: custom.width
                      value: 207
                - matcher:
                    id: byName
                    options: EID
                  properties:
                    - id: custom.width
                      value: 215
          gridPos:
            h: 9
            w: 13
            x: 11
            "y": 28
          id: 49
          options:
            frameIndex: 0
            showHeader: true
            sortBy:
                - desc: true
                  displayName: CHANNELS COUNT (delta)
          pluginVersion: 8.1.2
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_endpoints_channels_count{instance="$instance"}
              format: table
              interval: ""
              legendFormat: ""
              refId: A
          title: Historical  Endpoints Detail (Numbered of / Channels used over the period)
          transformations:
            - id: organize
              options:
                excludeByName:
                    __name__: true
                    instance: true
                    job: true
                indexByName: {}
                renameByName:
                    Time: ""
                    'Value #A': CHANNELS COUNT
                    eid: EID
                    id: ID
                    resource: RESOURCE
                    tech: TECH
            - id: groupBy
              options:
                fields:
                    CHANNELS COUNT:
                        aggregations:
                            - delta
                        operation: aggregate
                    Channels count:
                        aggregations:
                            - delta
                        operation: aggregate
                    EID:
                        aggregations: []
                        operation: groupby
                    ID:
                        aggregations: []
                        operation: groupby
                    RESOURCE:
                        aggregations: []
                        operation: groupby
                    Ressource:
                        aggregations: []
                        operation: groupby
                    TECH:
                        aggregations: []
                        operation: groupby
                    Tech:
                        aggregations: []
                        operation: groupby
          type: table
        - datasource:
            type: prometheus
            uid: NY8knvLVz
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: fixed
                custom:
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 50
                    gradientMode: hue
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    lineInterpolation: smooth
                    lineStyle:
                        fill: solid
                    lineWidth: 1
                    pointSize: 4
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: none
            overrides: []
          gridPos:
            h: 8
            w: 24
            x: 0
            "y": 37
          id: 54
          options:
            legend:
                calcs:
                    - last
                displayMode: list
                placement: bottom
                showLegend: false
            tooltip:
                mode: single
          targets:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              exemplar: true
              expr: asterisk_endpoints_count{instance="$instance"}
              interval: "300"
              legendFormat: ""
              refId: A
          title: Evolution of Defined Endpoints
          type: timeseries
        - collapsed: true
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 45
          id: 34
          panels:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        fixedColor: transparent
                        mode: thresholds
                    custom:
                        axisLabel: ""
                        axisPlacement: auto
                        barAlignment: 0
                        drawStyle: bars
                        fillOpacity: 50
                        gradientMode: hue
                        hideFrom:
                            legend: false
                            tooltip: false
                            viz: false
                        lineInterpolation: smooth
                        lineWidth: 2
                        pointSize: 10
                        scaleDistribution:
                            type: linear
                        showPoints: always
                        spanNulls: false
                        stacking:
                            group: A
                            mode: none
                        thresholdsStyle:
                            mode: "off"
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                            - color: '#EAB839'
                              value: 50
                            - color: red
                              value: 100
                overrides: []
              gridPos:
                h: 8
                w: 24
                x: 0
                "y": 20
              id: 47
              options:
                legend:
                    calcs:
                        - lastNotNull
                    displayMode: table
                    placement: bottom
                    showLegend: true
                tooltip:
                    mode: single
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_calls_count{instance="$instance"}
                  format: time_series
                  instant: false
                  interval: "300"
                  intervalFactor: 1
                  legendFormat: ""
                  refId: A
              title: Simultaneous Active Calls / Channels / Bridges Historical
              type: timeseries
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        mode: thresholds
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                overrides: []
              gridPos:
                h: 3
                w: 4
                x: 0
                "y": 28
              id: 18
              options:
                colorMode: value
                graphMode: none
                justifyMode: auto
                orientation: auto
                reduceOptions:
                    calcs:
                        - lastNotNull
                    fields: ""
                    values: false
                text: {}
                textMode: auto
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_calls_sum{instance="$instance"}
                  interval: ""
                  legendFormat: ""
                  refId: A
              title: Total Calls since activation of metrics
              type: stat
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        mode: thresholds
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                overrides: []
              gridPos:
                h: 3
                w: 5
                x: 4
                "y": 28
              id: 15
              options:
                colorMode: value
                graphMode: none
                justifyMode: auto
                orientation: horizontal
                reduceOptions:
                    calcs:
                        - lastNotNull
                    fields: ""
                    values: false
                text: {}
                textMode: auto
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: max_over_time(asterisk_calls_count{instance="$instance"}[1y])
                  interval: ""
                  legendFormat: ""
                  refId: A
              title: Max simultaneous Active Calls over the last year
              type: stat
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        mode: thresholds
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                            - color: '#EAB839'
                              value: 100
                            - color: red
                              value: 500
                overrides: []
              gridPos:
                h: 3
                w: 4
                x: 9
                "y": 28
              id: 21
              options:
                colorMode: value
                graphMode: none
                justifyMode: auto
                orientation: horizontal
                reduceOptions:
                    calcs:
                        - lastNotNull
                    fields: ""
                    values: false
                text: {}
                textMode: auto
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: round(rate(asterisk_calls_sum{instance="$instance"} [1h])*3600)
                  format: time_series
                  instant: false
                  interval: "60"
                  legendFormat: ""
                  refId: A
              title: Number of calls over the last hour
              type: stat
          title: Calls Information
          type: row
        - collapsed: true
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 46
          id: 31
          panels:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        fixedColor: semi-dark-orange
                        mode: fixed
                    custom:
                        axisLabel: ""
                        axisPlacement: auto
                        barAlignment: 0
                        drawStyle: line
                        fillOpacity: 50
                        gradientMode: hue
                        hideFrom:
                            legend: false
                            tooltip: false
                            viz: false
                        lineInterpolation: smooth
                        lineStyle:
                            fill: solid
                        lineWidth: 1
                        pointSize: 2
                        scaleDistribution:
                            type: linear
                        showPoints: auto
                        spanNulls: false
                        stacking:
                            group: A
                            mode: none
                        thresholdsStyle:
                            mode: "off"
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                            - color: red
                              value: 80
                overrides: []
              gridPos:
                h: 8
                w: 24
                x: 0
                "y": 32
              id: 32
              options:
                legend:
                    calcs: []
                    displayMode: list
                    placement: bottom
                    showLegend: true
                tooltip:
                    mode: single
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_channels_count{instance="$instance"}
                  interval: "300"
                  legendFormat: ""
                  refId: A
              title: Active Channels Historical
              type: timeseries
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        mode: palette-classic
                    custom:
                        hideFrom:
                            legend: false
                            tooltip: false
                            viz: false
                    mappings: []
                overrides: []
              gridPos:
                h: 9
                w: 11
                x: 0
                "y": 40
              id: 44
              options:
                displayLabels:
                    - percent
                    - name
                    - value
                legend:
                    displayMode: list
                    placement: bottom
                    showLegend: true
                pieType: pie
                reduceOptions:
                    calcs:
                        - lastNotNull
                    fields: ""
                    values: false
                tooltip:
                    mode: single
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==6)
                  hide: false
                  interval: ""
                  legendFormat: Channels up
                  refId: G
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: |
                    count(asterisk_channels_state{instance="$instance"}==0)
                  format: time_series
                  interval: ""
                  legendFormat: Channels down
                  refId: A
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==1)
                  format: time_series
                  hide: false
                  interval: ""
                  legendFormat: Channels reserved
                  refId: B
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==2)
                  format: time_series
                  hide: false
                  interval: ""
                  legendFormat: Channels offhook
                  refId: C
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==3)
                  hide: false
                  interval: ""
                  legendFormat: Channels dialings
                  refId: D
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==4)
                  hide: false
                  interval: ""
                  legendFormat: Channels ring
                  refId: E
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==5)
                  hide: false
                  interval: ""
                  legendFormat: Channels ringing
                  refId: F
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==7)
                  hide: false
                  interval: ""
                  legendFormat: Channels busy
                  refId: H
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==8)
                  hide: false
                  interval: ""
                  legendFormat: Channels dialing_offhook
                  refId: I
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: count(asterisk_channels_state{instance="$instance"}==9)
                  hide: false
                  interval: ""
                  legendFormat: Channels prering
                  refId: J
              title: Current Channels State  (0=down; 1=reserved; 2=offhook; 3=dialing; 4=ring; 5=ringing; 6=up; 7=busy; 8=dialing_offhook; 9=prering.)
              type: piechart
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        mode: thresholds
                    custom:
                        align: auto
                        cellOptions:
                            type: auto
                        filterable: false
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                            - color: red
                              value: 80
                overrides:
                    - matcher:
                        id: byName
                        options: TYPE
                      properties:
                        - id: custom.width
                          value: 55
                    - matcher:
                        id: byName
                        options: LINKED-ID
                      properties:
                        - id: custom.width
                          value: 116
                    - matcher:
                        id: byName
                        options: Time
                      properties:
                        - id: custom.width
                          value: 184
                    - matcher:
                        id: byName
                        options: EID
                      properties:
                        - id: custom.width
                          value: 168
                    - matcher:
                        id: byName
                        options: ID
                      properties:
                        - id: custom.width
                          value: 138
                    - matcher:
                        id: byName
                        options: NAME
                      properties:
                        - id: custom.width
                          value: 211
                    - matcher:
                        id: byName
                        options: STATE
                      properties:
                        - id: custom.width
                          value: 65
                    - matcher:
                        id: byName
                        options: DURATION(s)
                      properties:
                        - id: custom.width
                          value: 107
              gridPos:
                h: 9
                w: 13
                x: 11
                "y": 40
              id: 40
              options:
                frameIndex: 0
                showHeader: true
                sortBy:
                    - desc: true
                      displayName: DURATION(s)
              pluginVersion: 8.1.2
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_channels_state{instance="$instance"}
                  format: table
                  interval: ""
                  legendFormat: ""
                  refId: A
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_channels_duration_seconds{instance="$instance"}
                  format: table
                  hide: false
                  interval: ""
                  legendFormat: ""
                  refId: B
              title: Historical Individuals Channels Detail (0=down; 1=reserved; 2=offhook; 3=dialing; 4=ring; 5=ringing; 6=up; 7=busy; 8=dialing_offhook; 9=prering.)
              transformations:
                - id: seriesToColumns
                  options:
                    byField: Time
                - id: organize
                  options:
                    excludeByName:
                        __name__ 1: true
                        __name__ 2: true
                        eid 2: true
                        id 2: true
                        instance 1: true
                        instance 2: true
                        job 1: true
                        job 2: true
                        linkedid 2: true
                        name 2: true
                        type 2: true
                    indexByName: {}
                    renameByName:
                        __name__ 1: ""
                        Time 1: TIME
                        'Value #A': STATE
                        'Value #B': DURATION(s)
                        eid 1: EID
                        eid 2: ""
                        id 1: ID
                        instance 1: ""
                        linkedid 1: LINKED-ID
                        name 1: NAME
                        type 1: TYPE
              type: table
          title: Channels Information
          type: row
        - collapsed: true
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 47
          id: 36
          panels:
            - datasource:
                type: prometheus
                uid: NY8knvLVz
              fieldConfig:
                defaults:
                    color:
                        fixedColor: semi-dark-yellow
                        mode: fixed
                    custom:
                        axisLabel: ""
                        axisPlacement: auto
                        barAlignment: 0
                        drawStyle: line
                        fillOpacity: 50
                        gradientMode: hue
                        hideFrom:
                            legend: false
                            tooltip: false
                            viz: false
                        lineInterpolation: smooth
                        lineStyle:
                            fill: solid
                        lineWidth: 1
                        pointSize: 2
                        scaleDistribution:
                            type: linear
                        showPoints: auto
                        spanNulls: false
                        stacking:
                            group: A
                            mode: none
                        thresholdsStyle:
                            mode: "off"
                    mappings: []
                    thresholds:
                        mode: absolute
                        steps:
                            - color: green
                            - color: red
                              value: 80
                overrides: []
              gridPos:
                h: 8
                w: 24
                x: 0
                "y": 23
              id: 48
              options:
                legend:
                    calcs: []
                    displayMode: list
                    placement: bottom
                    showLegend: true
                tooltip:
                    mode: single
              targets:
                - datasource:
                    type: prometheus
                    uid: NY8knvLVz
                  exemplar: true
                  expr: asterisk_bridges_count{instance="$instance"}
                  interval: "300"
                  legendFormat: ""
                  refId: A
              title: Active Briges Historical
              type: timeseries
          title: Bridges Information
          type: row
    preload: false
    refresh: 1m
    schemaVersion: 41
    tags:
        - wazo
        - asterisk
    templating:
        list:
            - current:
                text: 172.16.43.227:443
                value: 172.16.43.227:443
              datasource:
                type: prometheus
                uid: NY8knvLVz
              definition: |
                label_values(asterisk_bridges_count{instance=~".*"}, instance)
              includeAll: false
              name: instance
              options: []
              query:
                query: |
                    label_values(asterisk_bridges_count{instance=~".*"}, instance)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              type: query
    time:
        from: now-24h
        to: now
    timepicker: {}
    timezone: ""
    title: Wazo - Asterisk Full
    uid: aLlK-wazo-asterisk-full
